{% extends "budget_base.html" %}
{% load extras %}

{% block content %}
    <h2>Class Detail</h2>
    <p>
        <b>Name:</b>
        <span>{{ transactionclass }}</span>
    </p>
    {% if budget %}
    <p>
        <b>Budget:</b>
        <span>{{ budget.value }} (<a href="{% url 'budget:budget-update' budget.id %}">update</a>)</span>
    </p>
    {% endif %}
    <ul>
        <li><a href="{% url 'budget:class-list' %}">Back To Class List</a></li>
    </ul>
    {% if categories %}
    <b>One-Year Summary</b>
    <table>
        <tr>
            <th></th>
            {% for header in columns %}
            <th>{{ header }}</th>
            {% endfor %}
        </tr>
        <tr>
            <td colspan="16" class="divider"><hr /></td>
        </tr>
        {% for index, row in data.items %}
        <tr>
            <th>
                {% if index in categories and index %}
                    <a href="{% url 'budget:category-detail' categories|get_item:index %}">{{ index }}</a>
                {% else %}
                    {{ index }}
                {% endif %}
            </th>
            {% for cell in row %}
            <td align="right">{{ cell }}</td>
            {% endfor %}
        </tr>
        {% endfor %}
    </table>
    {% endif %}
    <b>Transactions:</b>
    {% for t in transactions %}
        <li><a href="{% url 'budget:transaction-detail' t.id %}">{{ t }}</a></li>
    {% endfor %}
{% endblock %}
